<project name = "Ant" default = "all" basedir = ".">


		<!-- init makes properties -->
	<target name="init"> 
	
		<property name="src.dir" value="src"/> 
		<property name="build.dir" value="build"/> 
		<property name="apidoc.dir" value= "apidoc"/>
		<property name="resources.jar" value="lib/resources.jar"/>
		<path id="classpath">
	        <pathelement path="${build.dir}"/>
	        <pathelement path="${resources.jar}"/>
	    </path>
	    
	</target> 
 
 
		<!-- prepare makes required directories -->
	<target name="prepare" depends="init"> 
	
		<mkdir dir="${build.dir}"/>
		<mkdir dir="${apidoc.dir}"/>
		
	</target> 
 
 
		<!-- compile classes -->
	<target name="compile" depends="prepare"> 
	
		<javac destdir="${build.dir}" srcdir="${src.dir}"> 
			<classpath refid="classpath"/>
		</javac> 
		
	</target> 
 
 
 		<!-- javadoc generatesS the documentation -->
 	<target name="javadoc" depends="compile">
 	
 		<javadoc destdir="${apidoc.dir}"  author = "true" version = "true">
			<classpath refid="classpath"/>
			<packageset dir="${src.dir}" defaultexcludes="yes"/>
	    </javadoc>
	    
 	</target>
 
 		<!-- jar creates jar -->
 	<target name="jar" depends="javadoc">
 	
        <jar destfile="AntLabRun.jar" basedir="${build.dir}">
            <manifest>
                <attribute name="Main-Class" value="edu.gatech.oad.antlab.pkg1.AntLabMain"/>
                <attribute name="Class-Path" value="lib/resources.jar"/>
            </manifest>
        </jar>
        
    </target>
 
 
		<!-- run starts the program -->
	<target name = "run" depends = "jar">
	
		<java jar="AntLabRun.jar" fork="true" />
		 
	</target>
 
 
		<!-- all runs tasks except cleanup -->
	<target name="all" depends="run">
    </target>
	

		<!-- clean files from build -->
	<target name="clean" depends="init">  
	
		<delete dir="${build.dir}"/>
        <delete dir= "${apidoc.dir}"/>
        <delete file="AntLabRun.jar"/>
        
	</target> 
	
	
</project>